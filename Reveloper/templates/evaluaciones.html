{% extends 'base.html' %}

{% block title %}Evaluaciones{% endblock %}

{% block content %}
<div class="container">
    <h1>Evaluaciones</h1>
    <div class="evaluation-container">
        {% if evaluaciones %}
            {% for evaluacion in evaluaciones %}
                <div class="evaluation-card">
                    <h2>{{ evaluacion.titulo }}</h2>
                    <p class="calificacion"><strong>Calificación:</strong> <strong>{{ evaluacion.calificacion }}</strong></p>
                    {% if evaluacion.tarea %}
                        <p><strong>Tarea:</strong> <strong>{{ evaluacion.tarea.titulo }}</strong></p>
                    {% else %}
                        <p><strong>Tarea:</strong> <strong>Sin Tarea Asignada</strong></p>
                    {% endif %}
                    <p><strong>Asignado a:</strong> {{ evaluacion.usuario.first_name }} {{ evaluacion.usuario.last_name }}</p>
                    <p>{{ evaluacion.comentarios }}</p>
                    <p><strong>Fecha de Evaluación:</strong> {{ evaluacion.fecha_evaluacion }}</p>
                    <p><strong>Proyecto:</strong> {{ evaluacion.proyecto.nombre }}</p>
                </div>
            {% endfor %}
        {% else %}
            <p>No tienes evaluaciones asignadas.</p>
        {% endif %}
    </div>

    <!-- Botón para descargar el informe PDF -->
    <a href="{% url 'generate_evaluation_pdf' %}" class="btn btn-primary evaluation-btn">Descargar Informe PDF</a>
    <!-- Botón para descargar el informe con el gráfico -->
    <a href="{% url 'generar_informe_grafico_pdf' %}" class="btn btn-secondary evaluation-btn">Descargar Informe con Gráfico</a>
</div>
{% endblock %}
