{% extends 'base.html' %}

{% block title %}Reveloper Inicio{% endblock %}

{% block content %}
<div class="container">
    <marquee behavior="scroll" direction="left" scrollamount="10">
        <h1>Bienvenido al Dashboard, {{ usuario.first_name }} {{ usuario.last_name }}</h1>
    </marquee>

    <div class="cards">
        <a href="{% url 'proyectos' %}" class="card card-proyectos">
            <h2>Proyectos</h2>
            <p>Revisa los proyectos</p>
        </a>
        <a href="{% url 'tareas_por_desarrollar' %}" class="card card-tareas">
            <h2>Tareas</h2>
            <p>Revisa las tareas</p>
        </a>
        <a href="{% url 'evaluaciones' %}" class="card card-evaluaciones">
            <h2>Evaluaciones</h2>
            <p>Revisa tus evaluaciones</p>
        </a>
    </div>

    {% if usuario.is_superuser %}
        <div class="admin-link">
            <a href="/admin/" class="btn btn-primary">Panel de Administraci√≥n</a>
        </div>
    {% endif %}
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    // Obtener las tareas pendientes del contexto
    var tareasPendientes = JSON.parse('{{ tareas_pendientes|escapejs }}');
    console.log(tareasPendientes);  // Verificar en la consola del navegador

    // Si hay tareas pendientes, mostrar un mensaje pop-up
    if (tareasPendientes.length > 0) {
        var mensaje = "Tienes las siguientes tareas pendientes:\n\n";
        tareasPendientes.forEach(function(tarea, index) {
            mensaje += (index + 1) + ". " + tarea.titulo + "\n";
        });
        alert(mensaje);
    }
});
</script>
{% endblock %}
